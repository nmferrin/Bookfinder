{% extends 'base.html' %}

{% block content %}
<h2>Search Results</h2>
{% if results %}
    <ul>
        {% for book in results.docs %}
            <li>
                {% if book.cover_i %}
                    <img src="https://covers.openlibrary.org/b/id/{{ book.cover_i }}-M.jpg" alt="{{ book.title }} cover">
                {% else %}
                    <img src="{{ url_for('static', filename='default_cover.jpg') }}" alt="Default cover">
                {% endif %}
                <a href="{{ url_for('book_detail', book_id=book.key.split('/')[-1]) }}">{{ book.title }}</a> by {{ book.author_name[0] if book.author_name else 'Unknown Author' }}
                <!-- Favorite button using Font Awesome star -->
                <button class="favorite-btn" 
                        data-book-id="{{ book.key }}" 
                        data-title="{{ book.title }}" 
                        data-author="{{ book.author_name[0] if book.author_name else 'Unknown Author' }}" 
                        data-cover-url="https://covers.openlibrary.org/b/id/{{ book.cover_i }}-M.jpg">
                    <i class="far fa-star"></i>
                </button>

            </li>
        {% endfor %}
    </ul>
{% else %}
    <p>No results found.</p>
{% endif %}
{% endblock %}
